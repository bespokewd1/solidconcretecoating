---
// import BaseLayout from "../layouts/BaseLayout.astro";

import BaseLayout from "@layouts/BaseLayout.astro";
import { Icon } from "astro-icon/components";
// import { Image } from "astro:assets";
import { getImage } from "astro:assets";
import { Image } from "astro-lqip/components";
import CTA from "@components/CTA.astro";

// Import local images - replace these with your actual images
// For now, using placeholder structure
import resFloor from "@assets/images/services/res-floor-1.png";
import comFloor from "@assets/images/services/commerce-1.png";
import sealed from "@assets/images/coatings/sealed.png";
import poly from "@assets/images/coatings/poly.png";
import landingImage from "@assets/images/home-landing.png";

type ServiceSection = {
  id: string;
  icon: string;
  label: string;
};

const serviceSections: ServiceSection[] = [
  { id: "residential-coatings", icon: "tabler:home-2", label: "Residential" },
  {
    id: "commercial-industrial-flooring",
    icon: "tabler:building-factory-2",
    label: "Commercial",
  },
  {
    id: "concrete-sealing-repair",
    icon: "tabler:tools",
    label: "Sealing & Repair",
  },
  {
    id: "flake-colors-customization",
    icon: "tabler:palette",
    label: "Flake Colors",
  },
];

type BenefitItem = {
  icon: string;
  text: string;
};

type UseCase = {
  icon: string;
  text: string;
};

const optimizedImage = await getImage({ src: landingImage, format: "avif" });
---

<BaseLayout ogImage={optimizedImage}>
 <!-- ============================================ -->
  <!--                 Page Hero                    -->
  <!-- ============================================ -->
  <section class="relative overflow-hidden bg-neutral-900 pt-28 pb-20 sm:pt-36 sm:pb-28 lg:pt-44 lg:pb-36">
    <!-- BACKGROUND WRAPPER (Target for Scale Up 1 -> 1.2) -->
    <div
      id="hero-bg-wrapper"
      class="absolute inset-0 z-0 h-full w-full will-change-transform"
    >
      <Image
        src={landingImage}
        alt="Epoxy Flooring Edmonton"
        class="h-full w-full object-cover"
        loading="eager"
        lqip="base64"
        lqipSize={10}
      />
      <div class="absolute inset-0 bg-black/20"></div>
    </div>

    <!-- Gradient overlay -->
    <div class="absolute inset-0 bg-gradient-to-br from-neutral-900 via-neutral-900/95 to-neutral-800"></div>

    <div class="relative z-10 mx-auto max-w-7xl px-4 sm:px-8">
      <div class="max-w-3xl">
        <span
          class="mb-4 inline-block font-mont text-sm font-bold tracking-widest text-amber-300 uppercase"
          data-reveal
          data-direction="left"
          data-distance-x="30"
          data-once="true"
        >
          Our Services
        </span>
        <h1
          class="mb-6 font-mont text-4xl font-extrabold leading-tight text-neutral-50 sm:text-5xl lg:text-6xl"
          data-reveal
          data-direction="left"
          data-distance-x="30"
          data-delay-s="0.1"
          data-once="true"
        >
          Premium Concrete Coating Solutions
        </h1>
        <p
          class="mb-8 font-mont text-lg leading-relaxed text-neutral-300 sm:text-xl"
          data-reveal
          data-direction="left"
          data-distance-x="30"
          data-delay-s="0.15"
          data-once="true"
        >
          From residential garages to industrial warehouses, we deliver durable, beautiful floors that last. Explore our services below.
        </p>

        <!-- Quick Nav Pills -->
        <div
          class="flex flex-wrap gap-3"
          data-reveal
          data-direction="left"
          data-distance-x="30"
          data-delay-s="0.2"
          data-once="true"
        >
          {serviceSections.map((section) => (
            <a
              href={`#${section.id}`}
              class="group inline-flex items-center gap-2 rounded-full border border-neutral-700 bg-neutral-800/50 px-4 py-2 font-mont text-sm font-medium text-neutral-300 transition-all duration-300 hover:border-amber-300/50 hover:bg-amber-300/10 hover:text-amber-300"
            >
              <Icon name={section.icon} class="size-4" />
              {section.label}
            </a>
          ))}
        </div>
      </div>
    </div>

    <!-- Decorative element -->
    <div class="absolute right-0 bottom-0 hidden h-64 w-64 translate-x-1/4 translate-y-1/4 rounded-full bg-amber-300/5 blur-3xl lg:block"></div>
  </section>

  <!-- ============================================ -->
  <!--            Sticky Section Nav               -->
  <!-- ============================================ -->
  <nav
    class="sticky top-17.5 z-40 border-b border-neutral-200 bg-white/95 backdrop-blur-sm md:top-24"
    id="service-nav"
  >
    <div class="mx-auto max-w-7xl px-4 sm:px-8">
      <div class="scrollbar-hide flex gap-1 overflow-x-auto py-3 sm:justify-center sm:gap-2">
        {serviceSections.map((section) => (
          <a
            href={`#${section.id}`}
            class="service-nav-link group flex shrink-0 items-center gap-2 rounded-sm px-4 py-2.5 font-mont text-sm font-semibold text-neutral-600 transition-all duration-300 hover:bg-neutral-100 hover:text-neutral-900"
            data-section={section.id}
          >
            <Icon
              name={section.icon}
              class="size-4 text-neutral-400 transition-colors group-hover:text-amber-500"
            />
            <span class="hidden sm:inline">{section.label}</span>
            <span class="sm:hidden">{section.label.split(' ')[0]}</span>
          </a>
        ))}
      </div>
    </div>
  </nav>

  <!-- ============================================ -->
  <!--          Residential Coatings               -->
  <!-- ============================================ -->
  <section
    id="residential-coatings"
    class="scroll-mt-32 px-4 py-section-padding sm:px-8"
  >
    <div class="mx-auto max-w-7xl">
      <div class="grid items-center gap-12 lg:grid-cols-2 lg:gap-16">
        <!-- Content -->
        <div
          data-reveal
          data-direction="left"
          data-distance-x="50"
          data-once="true"
        >
          <div class="mb-4 flex items-center gap-3">
            <div class="flex size-12 items-center justify-center rounded-full bg-amber-300/15">
              <Icon name="tabler:home-2" class="size-6 text-amber-600" />
            </div>
            <span class="font-mont text-sm font-bold tracking-widest text-amber-600 uppercase">
              Residential
            </span>
          </div>

          <h2 class="mb-6 font-mont text-3xl font-bold text-neutral-900 sm:text-4xl">
            Residential Concrete Coatings
          </h2>

          <p class="mb-8 font-mont text-lg leading-relaxed text-neutral-600">
            Upgrade your home's flooring with our residential concrete coatings. Perfect for garages, basements, patios, and driveways. Our coatings are scratch-resistant, easy to maintain, and customizable with multiple flake colors.
          </p>

          <!-- Popular Uses -->
          <div class="mb-8">
            <h3 class="mb-4 font-mont text-sm font-bold tracking-widest text-neutral-500 uppercase">
              Popular Uses
            </h3>
            <div class="grid grid-cols-2 gap-3">
              {[
                { icon: "tabler:car", text: "Garage Floors" },
                { icon: "tabler:stairs-down", text: "Basements" },
                { icon: "tabler:plant-2", text: "Outdoor Patios" },
                { icon: "tabler:road", text: "Driveways" },
              ].map((item) => (
                <div class="flex items-center gap-3 rounded-sm bg-neutral-50 p-3">
                  <Icon name={item.icon} class="size-5 text-amber-500" />
                  <span class="font-mont text-sm font-medium text-neutral-700">{item.text}</span>
                </div>
              ))}
            </div>
          </div>

          <!-- Benefits -->
          <div class="mb-8">
            <h3 class="mb-4 font-mont text-sm font-bold tracking-widest text-neutral-500 uppercase">
              Benefits
            </h3>
            <ul class="space-y-3">
              {[
                "Scratch & Stain Resistant",
                "Easy to Maintain",
                "Adds Value to Your Home",
                "Non-Slip Surface Options",
              ].map((benefit) => (
                <li class="flex items-center gap-3 font-mont text-neutral-700">
                  <Icon name="tabler:circle-check-filled" class="size-5 shrink-0 text-amber-500" />
                  {benefit}
                </li>
              ))}
            </ul>
          </div>

          <a
            href="/contact"
            class:list={[
              "inline-flex items-center gap-2 px-8 py-4 font-mont font-bold",
              "border-2 border-amber-300 bg-amber-300 text-neutral-900 transition-all duration-400",
              "hover:rounded-lg hover:bg-neutral-900 hover:text-neutral-50 hover:border-neutral-900",
            ]}
          >
            Get a Free Quote
            <Icon name="tabler:arrow-right" class="size-5" />
          </a>
        </div>

        <!-- Image Grid -->
        <div
          class="grid grid-cols-2 gap-4"
          data-reveal
          data-direction="right"
          data-distance-x="50"
          data-delay-s="0.15"
          data-once="true"
        >
          <div class="space-y-4">
            <div class="overflow-hidden rounded-sm shadow-lg">
              <div class="h-48 w-full transition-transform duration-500 hover:scale-105 sm:h-64">
                <Image
                  src={resFloor}
                  alt="Residential garage floor coating"
                  class="object-cover size-full"
                  loading="lazy"
                />
              </div>
              </div>
            <div class="overflow-hidden rounded-sm bg-amber-300 p-6 shadow-lg">
              <p class="font-mont text-2xl font-bold text-neutral-900">10+</p>
              <p class="font-mont text-sm text-neutral-700">Years Experience</p>
            </div>
          </div>
          <div class="mt-8 space-y-4">
            <div class="overflow-hidden rounded-sm bg-neutral-900 p-6 shadow-lg">
              <p class="font-mont text-2xl font-bold text-amber-300">500+</p>
              <p class="font-mont text-sm text-neutral-400">Homes Completed</p>
            </div>
            <div class="overflow-hidden rounded-sm shadow-lg">
              <div class="h-48 w-full transition-transform duration-500 hover:scale-105 sm:h-64">
                <Image
                  src={poly}
                  alt="Epoxy coating layers diagram"
                  class="object-cover size-full"
                  loading="lazy"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Divider -->
  <div class="mx-auto max-w-7xl px-4 sm:px-8">
    <div class="h-px bg-gradient-to-r from-transparent via-neutral-200 to-transparent"></div>
  </div>

  <!-- ============================================ -->
  <!--       Commercial & Industrial Flooring      -->
  <!-- ============================================ -->
  <section
    id="commercial-industrial-flooring"
    class="scroll-mt-32 bg-neutral-50 px-4 py-section-padding sm:px-8"
  >
    <div class="mx-auto max-w-7xl">
      <div class="grid items-center gap-12 lg:grid-cols-2 lg:gap-16">
        <!-- Image - Order first on desktop -->
        <div
          class="order-2 lg:order-1"
          data-reveal
          data-direction="left"
          data-distance-x="50"
          data-once="true"
        >
          <div class="relative">
            <!-- Main Image -->
            <div class="overflow-hidden rounded-sm shadow-2xl">
              <div class="h-80 w-full sm:h-[500px]">
                <Image
                  src={comFloor}
                  alt="Commercial epoxy flooring installation"
                  class="object-cover  size-full"
                  loading="lazy"
                />
              </div>
            </div>
            <!-- Floating Badge -->
            <div class="absolute -right-4 -bottom-4 z-1 rounded-sm bg-amber-300 p-6 shadow-xl sm:-right-8 sm:-bottom-8">
              <Icon name="tabler:building-factory-2" class="mb-2 size-8 text-neutral-900" />
              <p class="font-mont text-sm font-bold text-neutral-900">Industrial<br/>Grade</p>
            </div>
          </div>
        </div>

        <!-- Content -->
        <div
          class="order-1 lg:order-2"
          data-reveal
          data-direction="right"
          data-distance-x="50"
          data-delay-s="0.15"
          data-once="true"
        >
          <div class="mb-4 flex items-center gap-3">
            <div class="flex size-12 items-center justify-center rounded-full bg-amber-300/15">
              <Icon name="tabler:building-factory-2" class="size-6 text-amber-600" />
            </div>
            <span class="font-mont text-sm font-bold tracking-widest text-amber-600 uppercase">
              Commercial
            </span>
          </div>

          <h2 class="mb-6 font-mont text-3xl font-bold text-neutral-900 sm:text-4xl">
            Commercial & Industrial Flooring
          </h2>

          <p class="mb-8 font-mont text-lg leading-relaxed text-neutral-600">
            We provide commercial and industrial concrete coating solutions built to withstand heavy traffic, machinery, and chemicals. Ideal for warehouses, gyms, restaurants, showrooms, and retail spaces.
          </p>

          <!-- Industries Served -->
          <div class="mb-8">
            <h3 class="mb-4 font-mont text-sm font-bold tracking-widest text-neutral-500 uppercase">
              Industries Served
            </h3>
            <div class="grid grid-cols-2 gap-3">
              {[
                { icon: "tabler:building-warehouse", text: "Warehouses & Factories" },
                { icon: "tabler:chef-hat", text: "Restaurants & Cafeterias" },
                { icon: "tabler:shopping-cart", text: "Retail & Showrooms" },
                { icon: "tabler:barbell", text: "Fitness Centers" },
              ].map((item) => (
                <div class="flex items-center gap-3 rounded-sm bg-white p-3 shadow-sm">
                  <Icon name={item.icon} class="size-5 text-amber-500" />
                  <span class="font-mont text-sm font-medium text-neutral-700">{item.text}</span>
                </div>
              ))}
            </div>
          </div>

          <!-- Benefits -->
          <div class="mb-8">
            <h3 class="mb-4 font-mont text-sm font-bold tracking-widest text-neutral-500 uppercase">
              Benefits
            </h3>
            <ul class="space-y-3">
              {[
                "Durable & Long-Lasting",
                "Slip-Resistant & Safe",
                "Easy to Clean & Maintain",
                "Customizable Finishes for Branding",
              ].map((benefit) => (
                <li class="flex items-center gap-3 font-mont text-neutral-700">
                  <Icon name="tabler:circle-check-filled" class="size-5 shrink-0 text-amber-500" />
                  {benefit}
                </li>
              ))}
            </ul>
          </div>

          <a
            href="/contact"
            class:list={[
              "inline-flex items-center gap-2 px-8 py-4 font-mont font-bold",
              "border-2 border-amber-300 bg-amber-300 text-neutral-900 transition-all duration-400",
              "hover:rounded-lg hover:bg-neutral-900 hover:text-neutral-50 hover:border-neutral-900",
            ]}
          >
            Request Commercial Quote
            <Icon name="tabler:arrow-right" class="size-5" />
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!--          Concrete Sealing & Repair          -->
  <!-- ============================================ -->
  <section
    id="concrete-sealing-repair"
    class="scroll-mt-32 px-4 py-section-padding sm:px-8"
  >
    <div class="mx-auto max-w-7xl">
      <!-- Section Header -->
      <div class="mb-12 max-w-3xl">
        <div
          class="mb-4 flex items-center gap-3"
          data-reveal
          data-direction="bottom"
          data-distance-y="30"
          data-once="true"
        >
          <div class="flex size-12 items-center justify-center rounded-full bg-amber-300/15">
            <Icon name="tabler:tools" class="size-6 text-amber-600" />
          </div>
          <span class="font-mont text-sm font-bold tracking-widest text-amber-600 uppercase">
            Restoration
          </span>
        </div>

        <h2
          class="mb-6 font-mont text-3xl font-bold text-neutral-900 sm:text-4xl"
          data-reveal
          data-direction="bottom"
          data-distance-y="30"
          data-delay-s="0.1"
          data-once="true"
        >
          Concrete Sealing & Repair
        </h2>

        <p
          class="font-mont text-lg leading-relaxed text-neutral-600"
          data-reveal
          data-direction="bottom"
          data-distance-y="30"
          data-delay-s="0.15"
          data-once="true"
        >
          Protect and restore your concrete surfaces with our sealing and repair services. Extend the life of your floors, patios, driveways, and walkways.
        </p>
      </div>

      <!-- Services Grid -->
      <div
        class="mb-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-4"
        data-stagger-child-b
        data-distance-y="40"
        data-delay-s="0.2"
        data-once="true"
      >
        {[
          {
            icon: "tabler:droplet-half-2",
            title: "Concrete & Aggregate Sealant",
            description: "Professional-grade sealers that protect against moisture and wear.",
          },
          {
            icon: "tabler:road",
            title: "Driveways, Stairs & Walkways",
            description: "Complete sealing solutions for all exterior concrete surfaces.",
          },
          {
            icon: "tabler:ruler-measure",
            title: "Leveling & Crack Repair",
            description: "Fix uneven surfaces and seal cracks before they spread.",
          },
          {
            icon: "tabler:shield-check",
            title: "Protective Coatings",
            description: "Long-lasting protection against weather, salt, and chemicals.",
          },
        ].map((service) => (
          <div class="group rounded-sm border border-neutral-200 bg-white p-6 transition-all duration-300 hover:border-amber-300 hover:shadow-lg">
            <div class="mb-4 flex size-14 items-center justify-center rounded-full bg-neutral-100 transition-colors duration-300 group-hover:bg-amber-300/20">
              <Icon name={service.icon} class="size-7 text-neutral-600 transition-colors duration-300 group-hover:text-amber-600" />
            </div>
            <h3 class="mb-2 font-mont text-lg font-bold text-neutral-900">
              {service.title}
            </h3>
            <p class="font-mont text-sm leading-relaxed text-neutral-600">
              {service.description}
            </p>
          </div>
        ))}
      </div>

      <!-- Before/After + Benefits -->
      <div class="grid items-center gap-12 lg:grid-cols-2">
        <!-- Before/After Image -->
        <div
          class="relative overflow-hidden rounded-sm shadow-xl"
          data-reveal
          data-direction="left"
          data-distance-x="50"
          data-once="true"
        >
          <Image
            src={sealed}
            alt="Before and after concrete sealing comparison"
            class="h-80 w-full object-cover sm:h-96"
            loading="lazy"
          />
          <!-- Labels overlay -->
          <div class="absolute inset-0 flex">
            <div class="flex flex-1 items-end justify-center bg-gradient-to-t from-black/60 to-transparent p-4">
              <span class="font-mont text-lg font-bold text-white">Unsealed</span>
            </div>
            <div class="flex flex-1 items-end justify-center bg-gradient-to-t from-black/60 to-transparent p-4">
              <span class="font-mont text-lg font-bold text-amber-300">Sealed</span>
            </div>
          </div>
        </div>

        <!-- Benefits -->
        <div
          data-reveal
          data-direction="right"
          data-distance-x="50"
          data-delay-s="0.15"
          data-once="true"
        >
          <h3 class="mb-6 font-mont text-2xl font-bold text-neutral-900">
            Why Seal Your Concrete?
          </h3>

          <div class="space-y-4">
            {[
              {
                icon: "tabler:droplet-off",
                title: "Prevents Cracks & Water Damage",
                description: "Sealing creates a barrier against moisture penetration and freeze-thaw cycles.",
              },
              {
                icon: "tabler:clock-hour-4",
                title: "Enhances Durability",
                description: "Extend the life of your concrete surfaces by years with proper sealing.",
              },
              {
                icon: "tabler:leaf",
                title: "Eco-Friendly & Low-Maintenance",
                description: "Our sealers are environmentally safe and reduce cleaning frequency.",
              },
            ].map((benefit) => (
              <div class="flex gap-4 rounded-sm bg-neutral-50 p-4">
                <div class="flex size-12 shrink-0 items-center justify-center rounded-full bg-amber-300/20">
                  <Icon name={benefit.icon} class="size-6 text-amber-600" />
                </div>
                <div>
                  <h4 class="mb-1 font-mont font-bold text-neutral-900">{benefit.title}</h4>
                  <p class="font-mont text-sm text-neutral-600">{benefit.description}</p>
                </div>
              </div>
            ))}
          </div>

          <a
            href="/contact"
            class:list={[
              "mt-8 inline-flex items-center gap-2 px-8 py-4 font-mont font-bold",
              "border-2 border-amber-300 bg-amber-300 text-neutral-900 transition-all duration-400",
              "hover:rounded-lg hover:bg-neutral-900 hover:text-neutral-50 hover:border-neutral-900",
            ]}
          >
            Schedule Inspection
            <Icon name="tabler:arrow-right" class="size-5" />
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!--         Flake Colors / Customization        -->
  <!-- ============================================ -->
  <section
    id="flake-colors-customization"
    class="scroll-mt-32 bg-neutral-900 px-4 py-section-padding sm:px-8"
  >
    <div class="mx-auto max-w-7xl">
      <!-- Header -->
      <div class="mb-12 text-center">
        <div
          class="mb-4 flex items-center justify-center gap-3"
          data-reveal
          data-direction="bottom"
          data-distance-y="30"
          data-once="true"
        >
          <div class="flex size-12 items-center justify-center rounded-full bg-amber-300/15">
            <Icon name="tabler:palette" class="size-6 text-amber-300" />
          </div>
        </div>

        <span
          class="mb-2 block font-mont text-sm font-bold tracking-widest text-amber-300 uppercase"
          data-reveal
          data-direction="bottom"
          data-distance-y="30"
          data-delay-s="0.05"
          data-once="true"
        >
          Customization
        </span>

        <h2
          class="mb-6 font-mont text-3xl font-bold text-neutral-50 sm:text-4xl"
          data-reveal
          data-direction="bottom"
          data-distance-y="30"
          data-delay-s="0.1"
          data-once="true"
        >
          Flake Colors & Custom Finishes
        </h2>

        <p
          class="mx-auto max-w-2xl font-mont text-lg leading-relaxed text-neutral-300"
          data-reveal
          data-direction="bottom"
          data-distance-y="30"
          data-delay-s="0.15"
          data-once="true"
        >
          Choose from a wide range of decorative flake colors to make your floors unique. Mix and match colors to match your style or brand identity.
        </p>
      </div>

      <!-- Color Categories -->
      <div
        class="mb-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4"
        data-stagger-child-b
        data-distance-y="40"
        data-delay-s="0.2"
        data-once="true"
      >
        {[
          {
            name: "Gray & White",
            colors: ["#6B7280", "#9CA3AF", "#D1D5DB", "#F3F4F6", "#FFFFFF"],
            description: "Classic, clean aesthetics",
          },
          {
            name: "Blue & Silver",
            colors: ["#1E40AF", "#3B82F6", "#60A5FA", "#93C5FD", "#C0C0C0"],
            description: "Modern, professional look",
          },
          {
            name: "Earth Tones",
            colors: ["#78350F", "#92400E", "#B45309", "#D4A574", "#E7D4B5"],
            description: "Warm, natural appearance",
          },
          {
            name: "Custom Mix",
            colors: ["linear-gradient(135deg, #F59E0B 0%, #3B82F6 50%, #10B981 100%)"],
            isGradient: true,
            description: "Your unique combination",
          },
        ].map((category) => (
          <div class="rounded-sm bg-neutral-800 p-6 transition-all duration-300 hover:bg-neutral-800/80">
            <div class="mb-4 flex gap-2">
              {category.isGradient ? (
                <div
                  class="h-8 w-full rounded-full"
                  style={`background: ${category.colors[0]}`}
                />
              ) : (
                category.colors.map((color) => (
                  <div
                    class="size-8 rounded-full border-2 border-neutral-700"
                    style={`background-color: ${color}`}
                  />
                ))
              )}
            </div>
            <h3 class="mb-1 font-mont text-lg font-bold text-neutral-50">
              {category.name}
            </h3>
            <p class="font-mont text-sm text-neutral-400">
              {category.description}
            </p>
          </div>
        ))}
      </div>

      <!-- Sample Floors Gallery -->
      <div
        class="mb-12"
        data-reveal
        data-direction="bottom"
        data-distance-y="40"
        data-delay-s="0.3"
        data-once="true"
      >
        <h3 class="mb-6 text-center font-mont text-xl font-bold text-neutral-50">
          Sample Installations
        </h3>
        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
          {[
            { name: "Midnight Blue", color: "bg-blue-900" },
            { name: "Granite Gray", color: "bg-neutral-600" },
            { name: "Desert Sand", color: "bg-amber-200" },
          ].map((sample) => (
            <div class="group relative overflow-hidden rounded-sm">
              <div class={`h-48 ${sample.color} relative`}>
                <!-- Flake pattern overlay -->
                <div class="absolute inset-0 opacity-30" style="background-image: radial-gradient(circle at 20% 30%, white 1px, transparent 1px), radial-gradient(circle at 60% 70%, white 1px, transparent 1px), radial-gradient(circle at 80% 20%, white 1px, transparent 1px), radial-gradient(circle at 40% 80%, white 1px, transparent 1px); background-size: 20px 20px;"></div>
              </div>
              <div class="absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent p-4">
                <p class="font-mont font-semibold text-white">{sample.name}</p>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- CTA -->
      <div
        class="text-center"
        data-reveal
        data-direction="bottom"
        data-distance-y="30"
        data-delay-s="0.35"
        data-once="true"
      >
        <p class="mb-6 font-mont text-neutral-300">
          Can't find the perfect color? We can create custom blends just for you.
        </p>
        <a
          href="/contact"
          class:list={[
            "inline-flex items-center gap-2 px-8 py-4 font-mont font-bold",
            "border-2 border-amber-300 bg-amber-300 text-neutral-900 transition-all duration-400",
            "hover:rounded-lg hover:bg-transparent hover:text-amber-300",
          ]}
        >
          Request Color Samples
          <Icon name="tabler:palette" class="size-5" />
        </a>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!--                    CTA                      -->
  <!-- ============================================ -->
  <CTA />
</BaseLayout>

<script>
  // Smooth scroll for anchor links
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault();
      const targetId = this.getAttribute("href")?.substring(1);
      if (targetId) {
        const target = document.getElementById(targetId);
        if (target) {
          target.scrollIntoView({
            behavior: "smooth",
            block: "start",
          });
          // Update URL without jumping
          history.pushState(null, "", `#${targetId}`);
        }
      }
    });
  });

  // Active section highlighting for sticky nav
  const observerOptions = {
    root: null,
    rootMargin: "-30% 0px -70% 0px",
    threshold: 0,
  };

  const navLinks = document.querySelectorAll(".service-nav-link");

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        const sectionId = entry.target.id;

        navLinks.forEach((link) => {
          const linkSection = link.getAttribute("data-section");
          if (linkSection === sectionId) {
            link.classList.add("bg-amber-300/20", "text-amber-600");
            link.classList.remove("text-neutral-600");
            link.querySelector("svg")?.classList.add("text-amber-500");
            link.querySelector("svg")?.classList.remove("text-neutral-400");
          } else {
            link.classList.remove("bg-amber-300/20", "text-amber-600");
            link.classList.add("text-neutral-600");
            link.querySelector("svg")?.classList.remove("text-amber-500");
            link.querySelector("svg")?.classList.add("text-neutral-400");
          }
        });
      }
    });
  }, observerOptions);

  // Observe all service sections
  document.querySelectorAll('section[id$="-coatings"], section[id$="-flooring"], section[id$="-repair"], section[id$="-customization"]').forEach((section) => {
    observer.observe(section);
  });

  // Handle initial hash on page load
  const initialHash = window.location.hash;
  if (initialHash) {
    setTimeout(() => {
      const target = document.querySelector(initialHash);
      if (target) {
        target.scrollIntoView({ behavior: "smooth", block: "start" });
      }
    }, 100);
  }
</script>

<style>
  /* Hide scrollbar for nav but allow scrolling */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>
