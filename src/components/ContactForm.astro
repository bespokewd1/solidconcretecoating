---
import { Icon } from "astro-icon/components";

type Props = {
  variant?: "default" | "compact";
};

const { variant = "default" } = Astro.props;
---

<form
  name="contact"
  method="POST"
  data-netlify="true"
  action="/"
  class="flex flex-col gap-4 font-mont sm:gap-5"
>
  <input type="hidden" name="form-name" value="contact" />

  <!-- Name -->
  <div class="relative z-1">
    <input
      id="name"
      name="name"
      required
      placeholder="Name"
      class:list={[
        "peer z-10 w-full rounded-sm bg-neutral-50 px-4 py-3.5 text-neutral-900 placeholder-transparent ring-1 ring-transparent",
        "transition-[padding,box-shadow,transform] duration-200 ease-out outline-none",
        "focus:translate-y-0.5 focus:ring-2 focus:ring-primary sm:py-4",
      ]}
      autocomplete="name"
    />
    <label
      for="name"
      class="pointer-events-none absolute top-1/2 left-4 z-10 -translate-y-1/2 bg-transparent text-sm text-neutral-500 transition-all duration-200 ease-out peer-not-placeholder-shown:top-2 peer-not-placeholder-shown:text-xs peer-focus:top-2 peer-focus:text-xs peer-focus:text-neutral-700"
    >
      Name
    </label>
    <div
      class="absolute inset-0 z-[-1] size-full translate-1 rounded-sm bg-neutral-300 transition-colors peer-focus:bg-primary"
    >
    </div>
  </div>

  <!-- Email -->
  <div class="relative z-1">
    <input
      id="email"
      type="email"
      name="email"
      required
      placeholder="Email"
      class:list={[
        "peer z-10 w-full rounded-sm bg-neutral-50 px-4 py-3.5 text-neutral-900 placeholder-transparent ring-1 ring-transparent",
        "transition-[padding,box-shadow,transform] duration-200 ease-out outline-none",
        "focus:translate-y-0.5 focus:ring-2 focus:ring-primary sm:py-4",
      ]}
      autocomplete="email"
    />
    <label
      for="email"
      class="pointer-events-none absolute top-1/2 left-4 z-10 -translate-y-1/2 text-sm text-neutral-500 transition-all duration-200 ease-out peer-not-placeholder-shown:top-2 peer-not-placeholder-shown:text-xs peer-focus:top-2 peer-focus:text-xs peer-focus:text-neutral-700"
    >
      Email
    </label>
    <div
      class="absolute inset-0 z-[-1] size-full translate-1 rounded-sm bg-neutral-300 transition-colors peer-focus:bg-primary"
    >
    </div>
  </div>

  <!-- Phone -->
  <div class="relative z-1">
    <input
      id="phone"
      type="tel"
      name="phone"
      placeholder="Phone"
      inputmode="tel"
      autocomplete="tel"
      class:list={[
        "peer z-10 w-full rounded-sm bg-neutral-50 px-4 py-3.5 text-neutral-900 placeholder-transparent ring-1 ring-transparent",
        "transition-[padding,box-shadow,transform] duration-200 ease-out outline-none",
        "focus:translate-y-0.5 focus:ring-2 focus:ring-primary sm:py-4",
      ]}
    />
    <label
      for="phone"
      class="pointer-events-none absolute top-1/2 left-4 z-10 -translate-y-1/2 text-sm text-neutral-500 transition-all duration-200 ease-out peer-not-placeholder-shown:top-2 peer-not-placeholder-shown:text-xs peer-focus:top-2 peer-focus:text-xs peer-focus:text-neutral-700"
    >
      Phone
    </label>
    <div
      class="absolute inset-0 z-[-1] size-full translate-1 rounded-sm bg-neutral-300 transition-colors peer-focus:bg-primary"
    >
    </div>
  </div>

  <!-- Service Type (New field) -->
  <div class="relative z-1">
    <select
      id="service"
      name="service"
      class:list={[
        "peer z-10 w-full appearance-none rounded-sm bg-neutral-50 px-4 py-3.5 text-neutral-900 ring-1 ring-transparent",
        "transition-[box-shadow,transform] duration-200 ease-out outline-none",
        "focus:translate-y-0.5 focus:ring-2 focus:ring-primary sm:py-4",
      ]}
    >
      <option value="" disabled selected>Select a Service</option>
      <option value="residential">Residential Flooring</option>
      <option value="commercial">Commercial Flooring</option>
      <option value="industrial">Industrial Flooring</option>
      <option value="sealing">Concrete Sealing</option>
      <option value="repair">Concrete Repair</option>
      <option value="other">Other</option>
    </select>
    <Icon
      name="tabler:chevron-down"
      class="pointer-events-none absolute top-1/2 right-4 size-5 -translate-y-1/2 text-neutral-500"
    />
    <div
      class="absolute inset-0 z-[-1] size-full translate-1 rounded-sm bg-neutral-300 transition-colors peer-focus:bg-primary"
    >
    </div>
  </div>

  <!-- Message -->
  <div class="relative z-1">
    <textarea
      id="message"
      name="message"
      required
      placeholder="Message"
      rows="4"
      class:list={[
        "peer z-10 w-full resize-y rounded-sm bg-neutral-50 px-4 py-4 text-neutral-900 placeholder-transparent ring-1 ring-transparent",
        "transition-[padding,box-shadow,transform] duration-200 ease-out outline-none",
        "focus:translate-y-0.5 focus:ring-2 focus:ring-primary sm:py-5",
      ]}></textarea>
    <label
      for="message"
      class="pointer-events-none absolute top-4 left-4 z-10 text-sm text-neutral-500 transition-all duration-200 ease-out peer-not-placeholder-shown:top-2 peer-not-placeholder-shown:text-xs peer-focus:top-2 peer-focus:text-xs peer-focus:text-neutral-700"
    >
      Tell us about your project
    </label>
    <div
      class="absolute inset-0 z-[-1] size-full translate-1 rounded-sm bg-neutral-300 transition-colors peer-focus:bg-primary"
    >
    </div>
  </div>

  <!-- Netlify reCAPTCHA -->
  <div data-netlify-recaptcha="true" class="mt-1"></div>

  <!-- Submit Button -->
  <button
    type="submit"
    class:list={[
      "group relative mx-auto inline-flex w-full max-w-xs items-center justify-center gap-2 overflow-hidden rounded-sm px-8 py-4 font-mont font-bold",
      "bg-primary text-fore-dark transition-all duration-300",
      "hover:bg-accent",
    ]}
  >
    <span class="relative z-10 flex items-center gap-2">
      Send Message
      <Icon
        name="tabler:send-2"
        class="size-5 transition-transform duration-300 group-hover:translate-x-1"
      />
    </span>
  </button>

  <!-- Trust indicators -->
  <div
    class="mt-2 flex flex-wrap items-center justify-center gap-4 text-center"
  >
    <span class="flex items-center gap-1.5 font-mont text-xs text-neutral-400">
      <Icon name="tabler:shield-check" class="size-4" />
      Secure & Private
    </span>
    <span class="flex items-center gap-1.5 font-mont text-xs text-neutral-400">
      <Icon name="tabler:clock" class="size-4" />
      24hr Response
    </span>
  </div>
</form>
